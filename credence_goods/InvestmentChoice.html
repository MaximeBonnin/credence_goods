{{ block title }}
    Investment Choice
{{ endblock }}
{{ block content }}

{{ include_sibling "InfoBox.html" }}

<style>
    .investment-choice-list {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1em;
    }

    .investment-choice-card {
        background-color: #f1eef6;
        text-align: center;
        border: solid;
        border-radius: 1em;
        padding-bottom: 0.3em;
        margin: 1em;
        overflow: hidden;
    }

    .no-invest {
        text-align: center;
    }

    .invest-name {
        width: 100%;
        padding: 0.3em;
        margin-bottom: 0.3em;
        background-color: #bdc9e1;
    }
</style>

<div class="investment-choice-list">
    {% if group.treatment_investment_option == "skill" %}
        <div class="skill-improvement investment-choice-card">
            <p class="invest-name"><b>Skill Investment</b></p>
            <p>This will improve your diagnosis skills.</p>
            <p>Accuracy before: <b>{% player.base_diagnosis_accuracy_percent %}%</b></p>
            <p>Accuracy after: <b><span id="total_diagnosis_accuracy_percent">total_diagnosis_accuracy_percent</span>%</b></p>
            <button class="btn btn-primary" name="investment_decision" value=true>Invest (Pay <span id="investment-cost"></span> Coins)</button>
        </div>

    {% else %}
        <div class="algo-improvement investment-choice-card">
            <p class="invest-name"><b>Algorithm Investment</b></p>
            <p>This will provide automatic diagnosis.</p>
            <p>Accuracy before: <b>{% player.base_diagnosis_accuracy_percent %}%</b></p>
            <p>Accuracy after: <b><span id="total_diagnosis_accuracy_percent">total_diagnosis_accuracy_percent</span>%</b></p>
            <button class="btn btn-primary" name="investment_decision" value=true>Invest (Pay <span id="investment-cost"></span> Coins)</button>
        </div>

    {% endif %}

    <div class="algo-improvement investment-choice-card">
        <p class="invest-name"><b>No Investment</b></p>
        <p>Continue as usual.</p>
        <p>Accuracy before: <b>{% player.base_diagnosis_accuracy_percent %}%</b></p>
        <p>Accuracy after: <b>{% player.base_diagnosis_accuracy_percent %}%</b></p>
        <button class="btn btn-primary" name="investment_decision" value=false>Don't Invest</button>
    </div>

    <script>
        let investment_cost = js_vars.investment_cost;
        document.getElementById("investment-cost").innerHTML = investment_cost;
        document.getElementById("total_diagnosis_accuracy_percent").innerHTML = js_vars.accuracies["invested"];
    </script>

{{ formfield_errors 'investment_decision' }}

{{ endblock }}