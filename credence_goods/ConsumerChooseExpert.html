{{ block title }}
    Choose an Expert
{{ endblock }}


{{ block content }}
<style>
    .expert-list {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1em;
    }

    .expert-card {
        background-color: lightcyan;
        text-align: center;
        border: solid;
        border-radius: 1em;
        padding-bottom: 0.3em;
        margin: 1em;
        overflow: hidden;
    }

    .expert-name {
        width: 100%;
        padding: 0.3em;
        margin-bottom: 0.3em;
    }
</style>

{{ include_sibling "InfoBox.html" }}

<div class="expert-list">
    {% for p in group.get_players() %}
        {% if not p.is_dropout %}

            {% if p.is_expert %}
                <div class="expert-card">
                    <p class="expert-name" style="background-color: {% p.player_color.lower() %}"><b>{% p.player_color %} ({% p.ability_level %} skill)</b></p>
                    <p>Accuracy: <b>{% p.diagnosis_accuracy_percent %}%</b></p>

                    {% if group.treatment_investment_visible %}
                    <!-- Display investment choices after they happen if treatment is appropriate -->
                        {% if p.round_number >= C.INVESTMENT_STARTING_ROUND %}
                            <p>Investment: <b>{% p.investment_decision %}</b></p>
                        {% endif %}
                    {% endif %}

                    <p>Price small service: <b>{% p.price_small_service %}</b></p>
                    <p>Price large service: <b>{% p.price_large_service %}</b></p>
                    <button class="btn btn-primary" name="expert_chosen" value="{% p.id_in_group %}">Choose Expert</button>
                </div>
            {% endif %}


        {% endif %}    

    {% endfor %}
</div>

{{ formfield_errors 'expert_chosen' }}

{{ endblock }}
